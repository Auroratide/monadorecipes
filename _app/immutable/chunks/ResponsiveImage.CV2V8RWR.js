import{E as z,s as B,e as E,a as D,c as M,f as J,b as K,d as R,F as O,m as o,i as T,j as G,n as U,G as L,H as N}from"./scheduler.CUkq0N6I.js";import{b as Q,t as V,S as W,i as X}from"./index.DAvUJRAQ.js";function A(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Y(e,t){Q(e,1,1,()=>{t.delete(e.key)})}function te(e,t){e.f(),Y(e,t)}function se(e,t,i,s,c,f,_,g,a,n,u,l){let r=e.length,p=f.length,w=r;const y={};for(;w--;)y[e[w].key]=w;const v=[],k=new Map,j=new Map,q=[];for(w=p;w--;){const h=l(c,f,w),m=i(h);let d=_.get(m);d?q.push(()=>d.p(h,t)):(d=n(m,h),d.c()),k.set(m,v[w]=d),m in y&&j.set(m,Math.abs(w-y[m]))}const C=new Set,I=new Set;function S(h){V(h,1),h.m(g,u),_.set(h.key,h),u=h.first,p--}for(;r&&p;){const h=v[p-1],m=e[r-1],d=h.key,b=m.key;h===m?(u=h.first,r--,p--):k.has(b)?!_.has(d)||C.has(d)?S(h):I.has(b)?r--:j.get(d)>j.get(b)?(I.add(d),S(h)):(C.add(b),r--):(a(m,_),r--)}for(;r--;){const h=e[r];k.has(h.key)||a(h,_)}for(;p;)S(v[p-1]);return z(q),v}function F(e,t,i){const s=e.slice();return s[2]=t[i][0],s[3]=t[i][1],s}function H(e){let t,i,s;return{c(){t=E("source"),this.h()},l(c){t=M(c,"SOURCE",{srcset:!0,type:!0}),this.h()},h(){N(t,i=e[3].map(P).join(", "))||o(t,"srcset",i),o(t,"type",s="image/"+e[2])},m(c,f){T(c,t,f)},p(c,f){f&1&&i!==(i=c[3].map(P).join(", "))&&o(t,"srcset",i),f&1&&s!==(s="image/"+c[2])&&o(t,"type",s)},d(c){c&&R(t)}}}function Z(e){let t,i,s,c,f,_,g=A(Object.entries(e[0].sources)),a=[];for(let n=0;n<g.length;n+=1)a[n]=H(F(e,g,n));return{c(){t=E("picture");for(let n=0;n<a.length;n+=1)a[n].c();i=D(),s=E("img"),this.h()},l(n){t=M(n,"PICTURE",{class:!0});var u=J(t);for(let l=0;l<a.length;l+=1)a[l].l(u);i=K(u),s=M(u,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),u.forEach(R),this.h()},h(){O(s.src,c=e[0].fallback.src)||o(s,"src",c),o(s,"alt",e[1]),o(s,"width",f=e[0].fallback.w),o(s,"height",_=e[0].fallback.h),o(s,"class","svelte-r4lphu"),o(t,"class","svelte-r4lphu")},m(n,u){T(n,t,u);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(t,null);G(t,i),G(t,s)},p(n,[u]){if(u&1){g=A(Object.entries(n[0].sources));let l;for(l=0;l<g.length;l+=1){const r=F(n,g,l);a[l]?a[l].p(r,u):(a[l]=H(r),a[l].c(),a[l].m(t,i))}for(;l<a.length;l+=1)a[l].d(1);a.length=g.length}u&1&&!O(s.src,c=n[0].fallback.src)&&o(s,"src",c),u&2&&o(s,"alt",n[1]),u&1&&f!==(f=n[0].fallback.w)&&o(s,"width",f),u&1&&_!==(_=n[0].fallback.h)&&o(s,"height",_)},i:U,o:U,d(n){n&&R(t),L(a,n)}}}const P=e=>`${e.src} ${e.w}w`;function x(e,t,i){let{image:s}=t,{alt:c}=t;return e.$$set=f=>{"image"in f&&i(0,s=f.image),"alt"in f&&i(1,c=f.alt)},[s,c]}class ne extends W{constructor(t){super(),X(this,t,x,Z,B,{image:0,alt:1})}}export{ne as R,A as e,te as f,Y as o,se as u};
